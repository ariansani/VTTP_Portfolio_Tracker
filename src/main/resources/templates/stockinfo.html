<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-th-text="${stock.getStockName}"></title>

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />

    <style>
      body {
        margin: 4em;
      }
      #stockTable2_wrapper {
        padding-top: 3em;
      }
      #stockName {
        display: inline-block;
        margin: auto;
        padding-bottom:2em;
      }

      th.dt-center,
      td.dt-center {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div style="clear: both; text-align: center">
      <h3 id="stockName"><span data-th-text="${stock.getStockName}"></span></h3>
    </div>
    <table border="1" id="stockTable1" class="display cell-border">
      <thead>
        <tr>
          <th>Market Cap(m)</th>
          <th>52w High</th>
          <th>52w Low</th>
          <th>Book Value/Sh Q</th>
          <th>Cash/Sh Q</th>
          <th>Dividend Yield(%)</th>
          <th>Current Ratio</th>
          <th>Earnings/Sh (TTM)</th>
          <th>Earnings/Sh Growth(5y)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td
            data-th-text="${stock.getMarketCap}!=null ? ${#numbers.formatDecimal(stock.getMarketCap,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.getYearHigh}!=null ? ${#numbers.formatDecimal(stock.getYearHigh,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.getYearLow}!=null ? ${#numbers.formatDecimal(stock.getYearLow,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.bookValuePerShareQ}!=null ? ${#numbers.formatDecimal(stock.bookValuePerShareQ,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.cashPerShareQ}!=null ? ${#numbers.formatDecimal(stock.cashPerShareQ,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.dividendYield}!=null ? ${#numbers.formatDecimal(stock.dividendYield,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.currentRatioQ}!=null ? ${#numbers.formatDecimal(stock.currentRatioQ,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.epsTTM}!=null ? ${#numbers.formatDecimal(stock.epsTTM,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.epsGrowth5y}!=null ? ${#numbers.formatDecimal(stock.epsGrowth5y,1,2,'POINT')}: 'Data Not Available'"
          ></td>
        </tr>
      </tbody>
    </table>
    <table border="1" id="stockTable2" class="display cell-border">
      <thead>
        <tr>
          <th>EBITDA CAGR(5y)</th>
          <th>Free Cash Flow (TTM)</th>
          <th>LT Debt/Equity Ratio</th>
          <th>Gross Margin (TTM)</th>
          <th>Net Profit Margin (TTM)</th>
          <th>Operating Margin (TTM)</th>
          <th>Price FCF (TTM)</th>
          <th>PE Ratio (TTM)</th>
          <th>Price-Sales Ratio (TTM)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td
            data-th-text="${stock.ebitdaCAGR5y}!=null ? ${#numbers.formatDecimal(stock.ebitdaCAGR5y,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.freeCashFlowTTM}!=null ? ${#numbers.formatDecimal(stock.freeCashFlowTTM,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.longTermDebtEquityA}!=null ? ${#numbers.formatDecimal(stock.longTermDebtEquityA,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.grossMarginTTM}!=null ? ${#numbers.formatDecimal(stock.grossMarginTTM,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.netProfitMarginTTM}!=null ? ${#numbers.formatDecimal(stock.netProfitMarginTTM,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.operMarginTTM}!=null ? ${#numbers.formatDecimal(stock.operMarginTTM,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.priceFCFTTM}!=null ? ${#numbers.formatDecimal(stock.priceFCFTTM,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.peRatioTTM}!=null ? ${#numbers.formatDecimal(stock.peRatioTTM,1,2,'POINT')}: 'Data Not Available'"
          ></td>
          <td
            data-th-text="${stock.psRatioTTM}!=null ? ${#numbers.formatDecimal(stock.psRatioTTM,1,2,'POINT')}: 'Data Not Available'"
          ></td>
        </tr>
      </tbody>
    </table>

  
  </body>
</html>

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"
></script>
<script
  type="text/javascript"
  charset="utf8"
  src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"
></script>

<script th:inline="javascript">
  $(document).ready(function () {
    $("#stockTable1").DataTable({ dom: "" });
    $("#stockTable2").DataTable({ dom: "" });
  }); //end of document ready
</script>
